import { Meta, Story, Preview } from "@storybook/addon-docs";

import LinkTo from "@storybook/addon-links/react";

import { HvProvider, HvScopedCssBaseline } from "@hitachivantara/uikit-react-core";
import { createTheme } from "@material-ui/core/styles";

import SpacingUsage from "./SpacingUsage";
import ThemePreviewMix from "./ThemePreviewMix";

import { MaturityStatus } from "../../../.storybook/blocks/MaturityStatus";
import componentDefinitions from "../../GetStarted/ComponentVersioningTable/versions";

<Meta
  title="Foundation/Theming"
  parameters={{
    dsVersion: componentDefinitions.dsVersion.v3,
  }}
/>

# Theming

<MaturityStatus />

The UI Kit components provides the two Design System themes: **Dawn** and **Wicked**.

<Story name="Main">
  <div style={{ display: "flex", flexWrap: "wrap" }}>
    <HvProvider uikitTheme="dawn" generateClassNameOptions={{ seed: "dawn" }} disableCssBaseline>
      <HvScopedCssBaseline>
        <ThemePreviewMix />
      </HvScopedCssBaseline>
    </HvProvider>
    <HvProvider
      uiKitTheme="wicked"
      generateClassNameOptions={{ seed: "wicked" }}
      disableCssBaseline
    >
      <HvScopedCssBaseline>
        <ThemePreviewMix />
      </HvScopedCssBaseline>
    </HvProvider>
  </div>
</Story>

The active theme is configured through the `HvProvider`'s `uiKitTheme` property and defaults to the **Dawn** theme.
Check <LinkTo kind="Foundation/Provider" story="Main" className="sbdocs-a">the Provider's API documentation</LinkTo> for more details.

## Custom themes

The UI Kit theme object is an enhanced Material-UI like theme object,
the basic structure of a Material-UI theme can be found in [here](https://material-ui.com/customization/default-theme/).
UI Kit appends to the Material-UI theme an `hv` property which contains extra definitions required for the components,
these definitions can be found in [here](https://github.com/lumada-design/hv-uikit-react/blob/master/packages/themes/src/dawn.json).

If you want to override one of the UI Kit themes you must build your custom theme using Material-UI's `createTheme` utility function.

The function receives a JSON object with the same structure as the Material-UI [theme](https://material-ui.com/customization/default-theme/) with the previously mentioned `hv` property which contains the UI Kit's extra [definitions](https://github.com/lumada-design/hv-uikit-react/blob/master/packages/themes/src/dawn.json).

The `createTheme` will output a Material-UI theme object with the required values that then can be passed to the `HvProvider`.
The `HvProvider` will override the properties in the default theme applying the received definitions on top.

```jsx
import { createTheme } from "@material-ui/core/styles";

const myRawCustomTheme = {
  // Material-UI Theme
  "palette": {
    "primary": {
      "light": "#757ce8",
      .
      .
      .
      "contrastText": '#fff',
    },
    "secondary": {
      .
      .
      .
    },
  },
  .
  .
  .
  "breakpoints": {
    .
    .
    .
  },
  "hv": {
    //UI KIT theme definitions
    "name": "custom",
    "palette": {
      "accent": {
        ...
        "acce2": "#33CE33",
        "acce2h": "#4AB573",
        ...
      },
      "atmosphere": {
        "atmo1": "#E3F1F6",
        ...
        "atmo3": "#BAE3F1",
        ....
      },
      "semantic": {
        "sema1": "#4AB573",
        "sema2": "#33ABCC",
        "sema3": "#F5996E",
        ...
        "sema15": "#9672C1",
        ...
      },
      ...
    }
  }
}

const myCustomTheme = createTheme(myRawCustomTheme);

<HvProvider theme={myCustomTheme}>
  <MyApp>
<HvProvider/>
```

export const myRawCustomTheme = {
  hv: {
    type: "light",
    name: "custom",
    palette: {
      accent: {
        acce1: "#414141",
        acce2: "#59941B",
        acce2h: "#4AB573",
        acce3: "#CC0000",
      },
      atmosphere: {
        atmo1: "#E3F1F6",
        atmo2: "#F0F0F0",
        atmo3: "#BAE3F1",
        atmo4: "#CCCED0",
        atmo5: "#999999",
      },
      base: {
        base1: "#FBFCFC",
        base2: "#414141",
      },
      semantic: {
        sema1: "#4AB573",
        sema2: "#33ABCC",
        sema3: "#F5996E",
        sema4: "#C62828",
        sema5: "#C51162",
        sema6: "#AA00FF",
        sema7: "#D3E3F6",
        sema8: "#DFECD1",
        sema9: "#F5D8D8",
        sema10: "#CE703D",
        sema11: "#D36041",
        sema12: "#CF4E38",
        sema13: "#CB3B30",
        sema14: "#BA2626",
        sema15: "#9672C1",
        sema16: "#4D8AC0",
        sema17: "#3388B1",
        sema18: "#1A85A1",
        sema19: "#00838F",
        sema20: "#F9E3C5",
      },
      support: {
        supp1: "#0F8B8D",
        supp2: "#734B6D",
        supp3: "#4E7599",
        supp4: "#C19C31",
        supp5: "#546B6B",
      },
    },
    typography: {
      fontFamily: ["'Open Sans'", "Arial", "Helvetica", "sans-serif"],
      "5xlTitle": {
        color: "#414141",
        fontSize: "52px",
        letterSpacing: "0.02em",
        lineHeight: "60px",
        fontWeight: 600,
      },
      "4xlTitle": {
        color: "#414141",
        fontSize: "52px",
        letterSpacing: "0.02em",
        lineHeight: "60px",
        fontWeight: 400,
      },
      "3xlTitle": {
        color: "#414141",
        fontSize: "42px",
        letterSpacing: "0.02em",
        lineHeight: "52px",
        fontWeight: 600,
      },
      xxlTitle: {
        color: "#414141",
        fontSize: "42px",
        letterSpacing: "0.02em",
        lineHeight: "52px",
        fontWeight: 400,
      },
      xlTitle: {
        color: "#414141",
        fontSize: "32px",
        letterSpacing: "0.02em",
        lineHeight: "40px",
        fontWeight: 600,
      },
      lTitle: {
        color: "#414141",
        fontSize: "32px",
        letterSpacing: "0.02em",
        lineHeight: "40px",
        fontWeight: 400,
      },
      mTitle: {
        color: "#414141",
        fontSize: "22px",
        letterSpacing: "0.02em",
        lineHeight: "30px",
        fontWeight: 600,
      },
      sTitle: {
        color: "#414141",
        fontSize: "22px",
        letterSpacing: "0.02em",
        lineHeight: "30px",
        fontWeight: 400,
      },
      xsTitle: {
        color: "#414141",
        fontSize: "18px",
        letterSpacing: "0.02em",
        lineHeight: "28px",
        fontWeight: 600,
      },
      xxsTitle: {
        color: "#414141",
        fontSize: "18px",
        letterSpacing: "0.02em",
        lineHeight: "28px",
        fontWeight: 400,
      },
      sectionTitle: {
        color: "#414141",
        fontSize: "14px",
        letterSpacing: "0.32em",
        lineHeight: "18px",
        fontWeight: 400,
        textTransform: "uppercase",
      },
      highlightText: {
        color: "#414141",
        fontSize: "12px",
        letterSpacing: "0.02em",
        lineHeight: "16px",
        fontWeight: 600,
      },
      normalText: {
        color: "#414141",
        fontSize: "12px",
        letterSpacing: "0.02em",
        lineHeight: "16px",
        fontWeight: 400,
      },
      placeholderText: {
        color: "#999999",
        fontSize: "12px",
        letterSpacing: "0.02em",
        lineHeight: "16px",
        fontWeight: 400,
      },
      link: {
        color: "#2064B4",
        fontSize: "12px",
        letterSpacing: "0.02em",
        lineHeight: "16px",
        fontWeight: 600,
        textDecoration: "underline",
      },
      disabledText: {
        color: "#999999",
        fontSize: "12px",
        letterSpacing: "0.02em",
        lineHeight: "16px",
        fontWeight: 600,
      },
      selectedNavText: {
        color: "#CC0000",
        fontSize: "12px",
        letterSpacing: "0.02em",
        lineHeight: "16px",
        fontWeight: 600,
      },
      vizText: {
        color: "#414141",
        fontSize: "10px",
        letterSpacing: "0.02em",
        lineHeight: "15px",
        fontWeight: 400,
      },
      vizTextDisabled: {
        color: "#999999",
        fontSize: "10px",
        letterSpacing: "0.02em",
        lineHeight: "15px",
        fontWeight: 400,
      },
      xsInlineLink: {
        color: "#2064B4",
        fontSize: "10px",
        letterSpacing: "0.02em",
        lineHeight: "15px",
        fontWeight: 600,
        textDecoration: "underline",
      },
    },
    spacing: {
      xs: 10,
      sm: 20,
      md: 30,
      lg: 60,
      xl: 90,
    },
    shadows: ["none", "0 2px 12px rgba(65,65,65,0.12)"],
    viz: {
      palette: {
        categorical: {
          cviz1: "#6EAFFF",
          cviz2: "#FFAB5C",
          cviz3: "#5CD1B2",
          cviz4: "#9672C1",
          cviz5: "#ED6868",
          cviz6: "#58C9DD",
          cviz7: "#FFDB70",
          cviz8: "#4AB573",
          cviz9: "#646A98",
          cviz10: "#EB7397",
          cviz11: "#33ABCC",
          cviz12: "#F8C169",
          cviz13: "#DE64BD",
          cviz14: "#419393",
          cviz15: "#F5996E",
          cviz16: "#528BBF",
          cviz17: "#EB95AF",
          cviz18: "#73BF9C",
          cviz19: "#B55984",
          cviz20: "#F7B552",
        },
        undefinedState: {
          atmo4: "#CCCED0",
        },
        sequential: {
          cviz1: "#2DB3E0",
          cviz1_900: "#40B9E2",
          cviz1_800: "#55C0E4",
          cviz1_700: "#69C7E7",
          cviz1_600: "#7ECEE9",
          cviz1_500: "#92D5EC",
          cviz1_400: "#A6DCEE",
          cviz1_300: "#BAE3F1",
          cviz1_200: "#CFEAF3",
          cviz1_100: "#E3F1F6",
        },
        polarized: {
          sema1: "#59941B",
          cviz21: "#869F1E",
          cviz22: "#A4991C",
          cviz23: "#C4931A",
          cviz24: "#E68C17",
          cviz25: "#F27034",
          cviz26: "#FF5252",
          cviz27: "#EC3D57",
          cviz28: "#D8265D",
          sema5: "#C51162",
        },
      },
    },
  },
};
export const myCustomTheme = createTheme(myRawCustomTheme);

<Story name="Other">
  <HvProvider
    uikitTheme="dawn"
    theme={myCustomTheme}
    generateClassNameOptions={{ seed: "custom" }}
    disableCssBaseline
  >
    <ThemePreviewMix />
  </HvProvider>
</Story>

## Spacing

UI Kit provides a spacing helper function the `hvSpacing`.
This function helps generate the correct spacing values for the ui elements when required,
the function is contained within the theme object.
The function receives one of the following values:
`["xs","sm","md","lg","xl"]`

These values represent the different spacings defined by design system.
the function will return the appropriate value in pixels to achieve the desired spacing

```
xs -> 10px
sm -> 20px
md -> 30px
lg -> 40px
xl -> 90px
```

if more than one argument is provided to the `hvSpacing` it will generate the shorthand form of the values
this can be seen in the example below.

## Example

```jsx
import React from "react";
import { makeStyles } from "@material-ui/core";
import { HvButton, HvCheckBox } from "@hitachivantara/uikit-react-core";

const SpacingUsage = () => {
  const useStyles = makeStyles((theme) => ({
    primary: {},
    secondary: {},
    buttonContainer: {
      "& $primary": {
        marginRight: theme.hvSpacing("xs"),
        marginBottom: theme.hvSpacing("md"),
      },
      "& $secondary": {
        margin: theme.hvSpacing(0, "xs", "md", 0),
      },
    },
  }));

  const classes = useStyles();
  return (
    <div className={classes.buttonContainer}>
      <HvButton className={classes.primary} category="primary">
        Test 1
      </HvButton>
      <HvButton className={classes.secondary} category="secondary">
        Test 2
      </HvButton>
      <HvButton className={classes.secondary} category="secondary">
        Test 3
      </HvButton>
    </div>
  );
};
```

## Result

<Story name="Spacing">
  <SpacingUsage />
</Story>
