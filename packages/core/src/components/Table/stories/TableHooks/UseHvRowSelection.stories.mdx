import { Meta, Canvas, Story } from "@storybook/addon-docs";
import {
  UseHvSelectionStory,
  UseHvSelectionControlledStory,
} from "./TableHooks";
import { LockedSelectionStory } from "../TableSamples/TableSamples";

<Meta title="Visualizations/Table/Table Hooks/useHvRowSelection" />

# useHvRowSelection

Rows can be selected individually.

Check [React Table's `useRowSelect` documentation](https://react-table.tanstack.com/docs/api/useRowSelect) for configuration details.

The `useHvRowSelection` hook injects a new column with a `HvCheckBox` to select each row. It also manages the `HvTableRow's` `isSelected` property via the
`getRowProps`.

This hook is originally based on the code `useRowSelect` hook from react-table and implements its API, but extends it with support for locking the selection
state of individual rows.

<Canvas>
  <Story name="useHvSelection" story={UseHvSelectionStory} />
</Canvas>

## Controlled

A selection state can also be included in the data and toggled externally.

<Canvas>
  <Story
    name="useHvRowSelection controlled"
    story={UseHvSelectionControlledStory}
  />
</Canvas>

# Locked Selection

Individual rows can have its selection state locked (becoming either not selectable or not unselectable), disabling the selection checkbox and also preventing
the bulk actions to change the row state.

<Canvas>
  <Story
    name="useHvRowSelection locked selection"
    story={LockedSelectionStory}
  />
</Canvas>
