import { HvSwitch, switchClasses } from "@hitachivantara/uikit-react-core";

import Playground from "@docs/components/code/Playground";
import { Description } from "@docs/components/page/Description";
import { Page } from "@docs/components/page/Page";
import { getComponentData } from "@docs/utils/component";

export const getStaticProps = async ({ params }) => {
  const meta = await getComponentData("Switch", "core", switchClasses);
  return { props: { ssg: { meta } } };
};

<Description />

<Page>

<Playground
  Component={HvSwitch}
  componentName="HvSwitch"
  controls={{
    label: { type: "text", defaultValue: "Switch" },
    required: { type: "check", defaultValue: false },
    readOnly: { type: "check", defaultValue: false },
    disabled: { type: "check", defaultValue: false },
  }}
/>

### Controlled

The selection state can be controlled by using the `checked`/`onChange` props.
The `value` prop represents the underlying submission value of the switch when it is checked.

```tsx live
import { useState } from "react";

export default function Demo() {
  const [checked, setChecked] = useState(false);

  return (
    <>
      <HvButton variant="subtle" onClick={() => setChecked((prev) => !prev)}>
        Toggle
      </HvButton>
      <HvSwitch
        value="on"
        checked={checked}
        aria-label="Switch"
        onChange={(_evt, newChecked) => setChecked(newChecked)}
      />
      <div>The switch is {checked ? "On" : "Off"}</div>
    </>
  );
}
```

### Custom colors

You can use the `color` prop to style the color of the switch.

```tsx live
import { useState } from "react";

export default function Demo() {
  const [checked, setChecked] = useState(false);

  return (
    <HvSwitch
      checked={checked}
      aria-label="Engine Control"
      onChange={(_evt, newChecked) => setChecked(newChecked)}
      color={checked ? "positive" : "negative"}
    />
  );
}
```

### Custom switch

A custom switch can be built by using the underlying form components, such as `HvLabel` and `HvInfoMessage`.
See [`HvFormElement`](/components/form-element) for more information.

```tsx live
import { useRef } from "react";

export default function Demo() {
  const inputRef = useRef<HTMLButtonElement>(null);

  return (
    <div>
      <div className="flex items-start">
        <HvLabel label="Engine Control" htmlFor="switch-input" />
        <HvInfoMessage id="switch-description">
          This is a custom description
        </HvInfoMessage>
      </div>
      <div className="flex items-center gap-xs">
        <div aria-hidden onClick={() => inputRef.current?.click()}>
          Off
        </div>
        <HvBaseSwitch
          id="switch-input"
          aria-describedby="switch-description"
          inputRef={inputRef}
          defaultChecked
        />
        <div aria-hidden onClick={() => inputRef.current?.click()}>
          On
        </div>
      </div>
    </div>
  );
}
```

### Related components

- [`HvFormElement`](/components/form-element)
- [`HvRadio`](/components/radio)

</Page>
