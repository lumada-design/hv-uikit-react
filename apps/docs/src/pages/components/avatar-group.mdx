import {
  avatarGroupClasses,
  HvAvatar,
  HvAvatarGroup,
} from "@hitachivantara/uikit-react-core";

import Playground from "@docs/components/code/Playground";
import { Header } from "@docs/components/Header";
import { getComponentData } from "@docs/utils/component";

export const getStaticProps = async ({ params }) => {
  const meta = await getComponentData(
    "AvatarGroup",
    "core",
    avatarGroupClasses,
  );
  return { props: { ssg: { meta } } };
};

<Header />

<Playground
  Component={HvAvatarGroup}
  componentName="HvAvatarGroup"
  controls={{
    size: {
      defaultValue: "md",
    },
    spacing: {
      defaultValue: "loose",
    },
    maxVisible: {
      defaultValue: 3,
    },
    direction: {
      defaultValue: "row",
    },
    highlight: {
      defaultValue: false,
    },
    toBack: {
      defaultValue: false,
    },
  }}
>
  <HvAvatar alt="Ben" src="https://i.imgur.com/56Eeg1g.png" />
  <HvAvatar alt="Beatrice" src="https://i.imgur.com/bE7vg3N.png" />
  <HvAvatar alt="Wayne" src="https://i.imgur.com/ea22egF.png" />
  <HvAvatar alt="Clara" src="https://i.imgur.com/6sYhSb6.png" />
  <HvAvatar alt="Steve" src="https://i.imgur.com/8we9311.jpeg" />
  <HvAvatar alt="Sarah" src="https://i.imgur.com/2aJYRLM.jpeg" />
  <HvAvatar alt="Cristina" src="https://i.imgur.com/fj50fND.jpeg" />
</Playground>

### Custom overflow component

By default, when the number of avatars exceeds the `maxVisible` prop, the `HvAvatarGroup` component will show **+X** where **X**
is the number of avatars that are not visible. The `overflowComponent` prop allows you to customize the overflow component that is
displayed in this scenario.

```tsx live
<HvAvatarGroup
  maxVisible={3}
  overflowComponent={(overflowCount) => (
    <HvTooltip title={`+${overflowCount}`}>
      <HvAvatar backgroundColor="brand" color="atmo1" role="img" />
    </HvTooltip>
  )}
>
  <HvAvatar alt="Ben" src="https://i.imgur.com/56Eeg1g.png" />
  <HvAvatar alt="Beatrice" src="https://i.imgur.com/bE7vg3N.png" />
  <HvAvatar alt="Wayne" src="https://i.imgur.com/ea22egF.png" />
  <HvAvatar alt="Clara" src="https://i.imgur.com/6sYhSb6.png" />
  <HvAvatar alt="Steve" src="https://i.imgur.com/8we9311.jpeg" />
  <HvAvatar alt="Sarah" src="https://i.imgur.com/2aJYRLM.jpeg" />
  <HvAvatar alt="Cristina" src="https://i.imgur.com/fj50fND.jpeg" />
</HvAvatarGroup>
```

### With tooltip

The `HvAvatarGroup` component expects `HvAvatar` as children but you can wrap them with a `HvTooltip` component to display a tooltip on hover.

```tsx live
export default function Demo() {
  return (
    <HvAvatarGroup maxVisible={4} size="lg" highlight>
      {users.map((u) => (
        <HvTooltip key={u.img} title={u.name} enterDelay={10}>
          <HvAvatar role="img" alt={u.name} src={u.img} />
        </HvTooltip>
      ))}
    </HvAvatarGroup>
  );
}

const users = [
  { name: "Ben", img: "https://i.imgur.com/56Eeg1g.png" },
  { name: "Beatrice", img: "https://i.imgur.com/bE7vg3N.png" },
  { name: "Wayne", img: "https://i.imgur.com/ea22egF.png" },
  { name: "Clara", img: "https://i.imgur.com/6sYhSb6.png" },
];
```
