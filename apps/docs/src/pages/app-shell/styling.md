# Styling

CSS-in-JS emerged as a popular styling technique to address this complexity by leveraging JavaScript to write CSS. It offers several advantages such as component-level styles, dynamic styles based on the component's state or props, and improved developer experience with tooling like hot-reloading and auto-prefixing.

For CSS-in-JS, we recommend using [Emotion](https://emotion.sh/docs/introduction). Emotion is a performant and flexible library that allows you to style applications swiftly and with ease. It's designed to work perfectly with React, enabling you to write CSS styles with JavaScript, bringing many benefits like scoped styles, dynamic styles, and many others.

It is the library currently used by the **UI Kit** and **App Shell** and one of the shared dependencies provided by the **App Shell**.

For information on how to style **UI Kit** components, check the [UI Kit documentation](https://lumada-design.github.io/uikit/master/?path=/docs/guides-styling--inline-styles).

## Importing CSS files

While the current recommendation is to use a CSS-in-JS solution that manages everything for us, there are cases where importing CSS files is still needed, for example, when using a third-party component that requires it.

The [vite-plugin-css-injected-by-js](https://github.com/marco-prontera/vite-plugin-css-injected-by-js) takes all the CSS generated by the build process and adds it inlined in the JS files. It should be configured to inject the CSS code only relative to the importer, so each _View_ and _Shared Module_ will have its own CSS code injected.

```typescript
// ...
import cssInjectedByJsPlugin from "vite-plugin-css-injected-by-js";
// ...

export default defineConfig(({ mode }) => ({
  // ...
  plugins: [
    // ...
    cssInjectedByJsPlugin({
      relativeCSSInjection: true,
    }),
    // ...
  ],
  // ...
}));
```

## Using UI Kit UnoCSS preset

The **UI Kit** provides a [UnoCSS preset](https://github.com/lumada-design/hv-uikit-react/tree/master/packages/uno-preset) compliant with its theme and the NEXT Design System guidelines. It enables the use of the pre-defined _tailwind-like_ utility CSS classes.

For using it in a **App Shell** project, the unocss plugin must be used together with the [vite-plugin-css-injected-by-js](https://github.com/marco-prontera/vite-plugin-css-injected-by-js) plugin described [above](#importing-css-files).

Follow the steps below to enable it:

Install the packages in your project with:

```sh
npm install -D @hitachivantara/uikit-uno-preset unocss vite-plugin-css-injected-by-js
```

Configure the plugins in the `vite.config.ts` file:

```typescript
// ...
import unoCSS from "unocss/vite";
import { presetHv } from "@hitachivantara/uikit-uno-preset";
import cssInjectedByJsPlugin from "vite-plugin-css-injected-by-js";
// ...

export default defineConfig(({ mode }) => ({
  // ...
  plugins: [
    // ...
    unoCSS({
      presets: [presetHv()],
    }),
    cssInjectedByJsPlugin({
      relativeCSSInjection: true,
    }),
    // ...
  ],
  // ...
}));
```

### UnoCSS operation mode

The UnoCSS plugin can be configured to operate in different modes, of which the following are compatible with the **App Shell**:

- `global`: The default mode. Processes all files and generates a single CSS. In this mode you need to add the import of `virtual:uno.css` to each entry point (_Views_ or other _Shared Modules_) that uses utility classes.

  ```typescript
  import "virtual:uno.css";
  ```

- `per-module`: This mode generates a stylesheet for each module. In this mode, you don't need to import the virtual modules in each entry point.

  Enable this mode by passing the `mode: "per-module"` option to the plugin:

  ```typescript
  // ...
  plugins: [
    // ...
    unoCSS({
      mode: "per-module",
      presets: [presetHv()],
    }),
    // ...
  ],
  // ...
  ```

---

➡️ **Next step**: [Static assets and API calls](./assets-and-apis.md)

[Documentation Index](./README.md)
